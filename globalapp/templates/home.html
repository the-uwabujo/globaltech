{% extends 'navbar.html' %}

{% block content %}

  <main>
    <!-- Hero Slider -->
    <section class="hero" aria-roledescription="carousel" aria-label="Highlights">
      <div class="slides" id="slides">
        <div class="slide active" style="background-image:url('https://soclinqglobaltech.com/wp-content/uploads/2025/09/slide-1.png');">
          <div class="slide-content">
            <div class="slide-text">
              <h1>Linking Communities for Public Safety</h1>
              <p>Connecting citizens, NGOs, and agencies to enhance safety and prevent crime.</p>
              <div class="cta">
                <button class="btn primary"><i class="fa-solid fa-download"></i> Download LINQMI App</button>
                <button class="btn secondary"><i class="fa-regular fa-circle-play"></i> Watch Demo</button>
              </div>
            </div>
            <div class="slide-illus">
              <div class="card">
                <i class="fa-solid fa-people-group"></i>
                <div>Community-powered safety, smarter coordination.</div>
              </div>
            </div>
          </div>
        </div>

        <div class="slide" style="background-image:url('https://soclinqglobaltech.com/wp-content/uploads/2025/09/slide-2.png');">
          <div class="slide-content">
            <div class="slide-text">
              <h1>Report Crime Easily</h1>
              <p>Send anonymous or direct crime reports with instant alerts to authorities.</p>
              <div class="cta">
                <button class="btn primary"><i class="fa-solid fa-flag"></i> Report Now</button>
              </div>
            </div>
            <div class="slide-illus">
              <div class="card">
                <i class="fa-solid fa-user-secret"></i>
                <div>Anonymous mode respected and protected.</div>
              </div>
            </div>
          </div>
        </div>

        <div class="slide" style="background-image:url('https://soclinqglobaltech.com/wp-content/uploads/2025/09/slide-3.png');">
          <div class="slide-content">
            <div class="slide-text">
              <h1>Emergency SOS</h1>
              <p>One-click SOS alerts for emergencies — notify community and agencies fast.</p>
              <div class="cta">
                <button class="btn primary"><i class="fa-solid fa-triangle-exclamation"></i> Trigger SOS</button>
              </div>
            </div>
            <div class="slide-illus">
              <div class="card">
                <i class="fa-solid fa-bell"></i>
                <div>High-priority alerts with instant reach.</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="dots" role="tablist" aria-label="Slide dots">
        <button class="dot active" aria-label="Slide 1" aria-controls="slides"></button>
        <button class="dot" aria-label="Slide 2" aria-controls="slides"></button>
        <button class="dot" aria-label="Slide 3" aria-controls="slides"></button>
      </div>
    </section>

    <!-- Features -->
    <section class="section">
      <div class="container">
        <h2 class="section-title">Core Features</h2>
        <div class="features" role="list">
          <div class="feature" role="listitem"><i class="fas fa-users"></i><h3>Community Hub</h3></div>
<div class="feature" role="listitem"><i class="fas fa-bullhorn"></i><h3>Emergency SOS</h3></div>
<div class="feature" role="listitem"><i class="fas fa-mobile-alt"></i><h3>Device Tracking</h3></div>
<div class="feature" role="listitem"><i class="fas fa-user-secret"></i><h3>Anonymous Reporting</h3></div>
<div class="feature" role="listitem"><i class="fas fa-graduation-cap"></i><h3>Education Hub (coming soon)...</h3></div>
<div class="feature" role="listitem"><i class="fas fa-route"></i><h3>Travel Safety (coming soon)...</h3></div>
<div class="feature" role="listitem"><i class="fas fa-microscope"></i><h3>Criminology Hub (coming soon)...</h3></div>

        </div>
      </div>
    </section>

    <!-- Empower -->
    <section class="section empower">
      <div class="container">
        <h2 class="section-title">Empowering Communities with Linqmi</h2>
        <div class="empower-grid">
          <div class="empower-item"><i class="fas fa-landmark"></i><p>Government</p></div>
          <div class="empower-item"><i class="fas fa-file-alt"></i><p>Reports</p></div>
          <div class="empower-item"><i class="fas fa-handshake"></i><p>Agencies</p></div>
        </div>
      </div>
    </section>

    <!-- Partner -->
    <section class="section partner">
      <div class="container">
        <h2 class="section-title">Partner With Us</h2> 
        <p class="muted" style="max-width:780px">Partner with Soclinq Global Tech Ltd to empower communities, strengthen safety, and build trust.</p>
        <div class="cta-row">
          <button class="btn primary"><i class="fa-regular fa-handshake"></i> Partner With Us</button>
          <button><i class="fa-solid fa-envelope"></i> Contact</button>
        </div>
      </div>
    </section>

    <!-- Partnership Form -->
    <section id="partner-form" class="pf-section">
      <div class="pf-card">
        <h3 class="pf-title">Partnership Form</h3>
        <p class="pf-subtitle">Join SocLinq Global Tech in building safer, more connected communities worldwide.</p>

        <form class="pf-form" novalidate>
          <div class="pf-field">
            <label for="pf-name">Full Name / Organisation Name <span class="pf-req">*</span></label>
            <input id="pf-name" name="name" type="text" placeholder="Your name or organisation" required>
            <span class="pf-error">Please enter a name or organisation.</span>
          </div>

          <div class="pf-field">
            <label for="pf-email">Email Address <span class="pf-req">*</span></label>
            <input id="pf-email" name="email" type="email" placeholder="Your email" required>
            <span class="pf-error">Please enter a valid email.</span>
          </div>

          <div class="pf-field">
            <label for="pf-phone">Phone Number</label>
            <input id="pf-phone" name="phone" type="tel" placeholder="Your phone number">
          </div>

          <div class="pf-field">
            <label for="pf-type">Type of Partnership <span class="pf-req">*</span></label>
            <div class="pf-select">
              <select id="pf-type" name="type" required>
                <option value="">Select type</option>
                <option>Individual</option>
                <option>NGO / Non-Profit</option>
                <option>Government Agency</option>
                <option>Corporate / Business</option>
                <option>Academic / Research Institution</option>
                <option>Other</option>
              </select>
            </div>
            <span class="pf-error">Please choose a partnership type.</span>
          </div>

          <div class="pf-field">
            <label for="pf-country">Country / Location <span class="pf-req">*</span></label>
            <input id="pf-country" name="country" type="text" placeholder="Your country or location" required>
            <span class="pf-error">Please enter your country or location.</span>
          </div>

          <div class="pf-field">
            <label>Area of Interest</label>
            <div class="pf-pills">
              <label class="pf-pill"><input type="checkbox" name="areas" value="Reporting & Community Safety"><span>Reporting &amp; Community Safety</span></label>
              <label class="pf-pill"><input type="checkbox" name="areas" value="Travel Safety"><span>Travel Safety</span></label>
              <label class="pf-pill"><input type="checkbox" name="areas" value="Device Tracking"><span>Device Tracking</span></label>
              <label class="pf-pill"><input type="checkbox" name="areas" value="Education Hub"><span>Education Hub</span></label>
              <label class="pf-pill"><input type="checkbox" name="areas" value="Criminology Hub"><span>Criminology Hub</span></label>
              <label class="pf-pill"><input type="checkbox" name="areas" value="General Collaboration"><span>General Collaboration</span></label>
            </div>
          </div>

          <div class="pf-field">
            <label for="pf-message">Message / Proposal</label>
            <textarea id="pf-message" name="message" rows="5" placeholder="Please share how you would like to partner with us"></textarea>
          </div>

          <div class="pf-field">
            <label for="pf-contact">Preferred Mode of Contact</label>
            <div class="pf-select">
              <select id="pf-contact" name="contact">
                <option>Email</option>
                <option>Phone</option>
                <option>Virtual Meeting</option>
              </select>
            </div>
          </div>

          <button type="submit" class="pf-btn">Become a Partner</button>
          <p class="pf-note">
            By submitting this form, you agree that your information may be used to contact you about partnership opportunities
            in line with our Partnership Terms.
          </p>
          <p class="pf-thanks">Thank you for reaching out! Our team will review your partnership request and get back to you shortly. Together, we can make communities safer and stronger.</p>

          <p class="pf-contacts"><strong>Call &amp; SMS:</strong> +2348082428549 &nbsp;|&nbsp; <strong>WhatsApp:</strong> +2347079186018</p>
        </form>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-grid" aria-label="Footer">

      <div>
        <img src="https://soclinqglobaltech.com/wp-content/uploads/2025/09/logo.png" alt="LINQMI Logo" style="height:50px;width:auto;margin-bottom:12px;" />
        <p>LINQMI – Empowering communities with safety, trust, and innovation.</p>
      </div>

      <div>
        <h4><font color="white">Quick Links</h4></font>
        <a href="#">Home</a><br/>
        <a href="#">Features</a><br/>
        <a href="#">NGO/Government</a>
      </div>
      <div>
        <h4><font color="white">Policy</h4></font>
        <a href="#">Privacy Policy</a><br/>
        <a href="#">Terms of Use</a>
      </div>
      <div>
        <h4><font color="white">Support</h4></font>
        <a href="#">Help</a><br/>
        <a href="#">Contact Us</a>
      </div>
      <div>
        <h4><font color="white">Follow Us</h4></font>
        <a href="#"><i class="fab fa-facebook"></i> Facebook</a><br/>
        <a href="#"><i class="fab fa-twitter"></i> Twitter</a><br/>
        <a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a>
      </div>
    </div>
    <div class="subfooter">© {year} LINQMI. All rights reserved.</div>
  </footer>

  <!-- Popup (SOS) -->
  <div class="popup" id="popup" role="dialog" aria-modal="true" aria-labelledby="sos-title" aria-describedby="sos-desc">
    <div class="popup-content">
      <h2 id="sos-title"><i class="fas fa-exclamation-triangle"></i> Emergency SOS</h2>
      <p id="sos-desc">With Linqmi, you can send real-time distress alerts to your community and agencies instantly. Stay safe, stay connected.</p>
      <div class="cta">
        <button class="btn trigger" type="button"><i class="fa-solid fa-bolt"></i> Trigger SOS (Demo)</button>
        <button class="btn close" type="button" aria-label="Close emergency popup">Close</button>
      </div>
    </div>
  </div>

  <!-- AUTH MODAL -->
  <div class="am-overlay" id="auth-overlay" role="dialog" aria-modal="true" aria-labelledby="auth-title">
    <div class="am-modal">
      <div class="am-header">
        <img src="https://soclinqglobaltech.com/wp-content/uploads/2025/09/logo.png" alt="LINQMI" />
        <h3 id="auth-title" style="margin:0;font-size:16px;">Account Access</h3>
      </div>
      <div class="am-body">
        <div class="am-tabs" role="tablist">
          <button class="am-tab active" data-tab="login" role="tab" aria-selected="true">Login</button>
          <button class="am-tab" data-tab="signup" role="tab" aria-selected="false">Sign Up</button>
          <button class="am-tab" data-tab="forgot" role="tab" aria-selected="false">Forgot Password</button>
        </div>

        <!-- Login -->
        <div class="am-panel active" id="am-login" role="tabpanel">
          <div class="am-field">
            <label for="login-email">Email</label>
            <input id="login-email" type="email" placeholder="you@example.com" autocomplete="email">
          </div>
          <div class="am-field">
            <label for="login-pass">Password</label>
            <input id="login-pass" type="password" placeholder="Enter password" autocomplete="current-password">
          </div>
            <div class="am-meta"><input id="keep-signed" type="checkbox" style="margin-right:6px;vertical-align:middle;">Keep me signed in on this device</div>
          <div class="am-actions">
            <button class="am-btn secondary" data-close-auth>Cancel</button>
            <button class="am-btn primary" id="do-login">Login</button>
          </div>
          <div class="am-meta">Forgot your password? <span class="am-link" data-goto="forgot">Reset here</span>.</div>
        </div>

        <!-- Sign Up -->
        <div class="am-panel" id="am-signup" role="tabpanel" aria-hidden="true">
          <div class="am-field">
            <label for="su-name">Full Name</label>
            <input id="su-name" type="text" placeholder="Your full name" autocomplete="name">
          </div>
          <div class="am-field">
            <label for="su-email">Email</label>
            <input id="su-email" type="email" placeholder="you@example.com" autocomplete="email">
          </div>
          <div class="am-field">
            <label for="su-pass">Password</label>
            <input id="su-pass" type="password" placeholder="Create a strong password" autocomplete="new-password">
          </div>
          <div class="am-actions">
            <button class="am-btn secondary" data-close-auth>Cancel</button>
            <button class="am-btn primary" id="do-signup">Create Account</button>
          </div>
          <div class="am-meta">Already have an account? <span class="am-link" data-goto="login">Login</span>.</div>
        </div>

        <!-- Forgot Password -->
        <div class="am-panel" id="am-forgot" role="tabpanel" aria-hidden="true">
          <div class="am-field">
            <label for="fp-email">Email Address</label>
            <input id="fp-email" type="email" placeholder="Enter the email for reset" autocomplete="email">
          </div>
          <div class="am-actions">
            <button class="am-btn secondary" data-close-auth>Cancel</button>
            <button class="am-btn primary" id="do-forgot">Send Reset Link</button>
          </div>
          <div class="am-meta">Remembered your password? <span class="am-link" data-goto="login">Back to Login</span>.</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ---------- Footer year ----------
    document.querySelector('.subfooter').innerHTML =
      document.querySelector('.subfooter').innerHTML.replace('{year}', new Date().getFullYear());

    // ---------- Mobile menu ----------
    const toggle = document.getElementById('menu-toggle');
    const nav = document.getElementById('nav');
    toggle?.addEventListener('click', () => {
      nav.classList.toggle('show');
      const expanded = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!expanded));
    });

    // ---------- Slider ----------
    const slides = Array.from(document.querySelectorAll('.slide'));
    const dots = Array.from(document.querySelectorAll('.dot'));
    let idx = 0, timer = null;
    function showSlide(i){ slides.forEach((s,k)=>s.classList.toggle('active',k===i)); dots.forEach((d,k)=>d.classList.toggle('active',k===i)); idx=i; }
    function nextSlide(){ showSlide((idx+1)%slides.length); }
    function startAuto(){ timer=setInterval(nextSlide,6000); }
    function stopAuto(){ if(timer) clearInterval(timer); }
    dots.forEach((d,i)=> d.addEventListener('click',()=>{ stopAuto(); showSlide(i); startAuto(); }));
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') { stopAuto(); nextSlide(); startAuto(); }
      if (e.key === 'ArrowLeft') { stopAuto(); showSlide((idx - 1 + slides.length) % slides.length); startAuto(); }
      if (e.key === 'Escape') {
        if (popup.classList.contains('show')) popup.classList.remove('show');
        if (authOverlay.classList.contains('show')) closeAuth();
      }
    });
    startAuto(); showSlide(0);

    // ---------- SOS Popup ----------
    const popup = document.getElementById('popup');
    const triggerBtn = popup.querySelector('.trigger');
    const closeBtn = popup.querySelector('.close');
    let popupShown = false;
    window.addEventListener('load', () => {
      if (!popupShown) { popup.classList.add('show'); popupShown = true; }
      renderAuthSlot();                    // render correct nav item on load
    });
    triggerBtn.addEventListener('click', () => alert('SOS demo activated!'));
    closeBtn.addEventListener('click', () => popup.classList.remove('show'));

    // ---------- Partnership form (demo validation) ----------
    document.addEventListener('submit', function(e){
      const form = e.target.closest('.pf-form'); if(!form) return;
      let ok = true;
      const req = [['#pf-name','Please enter a name or organisation.'],['#pf-email','Please enter a valid email.'],['#pf-type','Please choose a partnership type.'],['#pf-country','Please enter your country or location.']];
      req.forEach(([sel,msg])=>{
        const field=form.querySelector(sel), wrap=field.closest('.pf-field'), err=wrap.querySelector('.pf-error');
        if(err) err.textContent=msg;
        const value=(field.value||'').trim(), valid= field.type==='email' ? /\S+@\S+\.\S+/.test(value) : value!=='';
        if(!valid){ ok=false; if(err) err.style.display='block'; field.setAttribute('aria-invalid','true'); }
        else { if(err) err.style.display='none'; field.removeAttribute('aria-invalid'); }
      });
      if(!ok){ e.preventDefault(); return; }
      e.preventDefault(); form.querySelector('.pf-thanks').style.display='block'; form.querySelector('.pf-thanks').scrollIntoView({behavior:'smooth', block:'center'});
    }, {capture:true});

    // ---------- Auth state (persistent demo) ----------
    const AUTH_KEY = 'linqmi_auth';
    const authOverlay = document.getElementById('auth-overlay');
    const authSlot = document.getElementById('auth-slot');

    function getSession(){
      try { return JSON.parse(localStorage.getItem(AUTH_KEY) || 'null'); } catch(e){ return null; }
    }
    function setSession(obj){
      if(obj) localStorage.setItem(AUTH_KEY, JSON.stringify(obj));
      else localStorage.removeItem(AUTH_KEY);
      renderAuthSlot();
    }
    function isLoggedIn(){ return !!getSession(); }

    function renderAuthSlot(){
      const s = getSession();
      if(!s){
        authSlot.innerHTML = `<a href="#" id="open-auth" aria-haspopup="dialog" aria-controls="auth-overlay"><i class="fa-regular fa-user"></i> Sign Up / Login</a>`;
        document.getElementById('open-auth').addEventListener('click', (e)=>{ e.preventDefault(); openAuth(); });
      } else {
        const name = s.name || (s.email ? s.email.split('@')[0] : 'User');
        authSlot.innerHTML = `<a href="#" id="do-logout" title="Signed in as ${s.email || name}"><i class="fa-solid fa-right-from-bracket"></i> Logout <span class="nav-badge">${name}</span></a>`;
        document.getElementById('do-logout').addEventListener('click', (e)=>{ e.preventDefault(); setSession(null); alert('You have been logged out.'); });
      }
    }

    // ---------- Auth modal controls ----------
    function openAuth(){ authOverlay.classList.add('show'); }
    function closeAuth(){ authOverlay.classList.remove('show'); }

    authOverlay.addEventListener('click', (e)=>{ if(e.target === authOverlay) closeAuth(); });
    document.querySelectorAll('[data-close-auth]').forEach(btn => btn.addEventListener('click', closeAuth));

    // Tabs
    const tabs = Array.from(document.querySelectorAll('.am-tab'));
    const panels = { login: document.getElementById('am-login'), signup: document.getElementById('am-signup'), forgot: document.getElementById('am-forgot') };
    function setTab(name){
      tabs.forEach(t=>{ const active=t.dataset.tab===name; t.classList.toggle('active',active); t.setAttribute('aria-selected', String(active)); });
      Object.entries(panels).forEach(([k,el])=>{ const on=k===name; el.classList.toggle('active',on); el.setAttribute('aria-hidden', String(!on)); });
    }
    tabs.forEach(t=> t.addEventListener('click', ()=> setTab(t.dataset.tab)));
    document.querySelectorAll('.am-link[data-goto]').forEach(l=> l.addEventListener('click', ()=> setTab(l.dataset.goto)));

    // Demo actions
    document.getElementById('do-login').addEventListener('click', ()=>{
      const email = (document.getElementById('login-email').value||'').trim();
      const keep = document.getElementById('keep-signed').checked;
      if(!/\S+@\S+\.\S+/.test(email)){ alert('Enter a valid email.'); return; }
      setSession({ email, name: email.split('@')[0], keep });
      closeAuth();
      alert('Login successful (demo). Nav now shows Logout.');
    });
    document.getElementById('do-signup').addEventListener('click', ()=>{
      const email = (document.getElementById('su-email').value||'').trim();
      const name  = (document.getElementById('su-name').value||'').trim();
      if(!name){ alert('Enter your full name.'); return; }
      if(!/\S+@\S+\.\S+/.test(email)){ alert('Enter a valid email.'); return; }
      setSession({ email, name });
      closeAuth();
      alert('Account created (demo). You are signed in.');
    });
    document.getElementById('do-forgot').addEventListener('click', ()=>{
      const email = (document.getElementById('fp-email').value || '').trim();
      if(!/\S+@\S+\.\S+/.test(email)){ alert('Enter a valid email to receive the reset link.'); return; }
      alert('A password reset link has been sent to: ' + email);
      closeAuth();
    });
  </script>
{% endblock %}
